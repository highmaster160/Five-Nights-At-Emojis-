<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-fullscreen">
    <meta name="screen-orientation" content="portrait">
    <title>Five Nights at Emojis</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ğŸ˜±</text></svg>">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { 
            width: 100%; 
            height: 100%; 
            overflow: hidden; 
            font-family: system-ui, -apple-system, sans-serif;
            position: fixed;
            touch-action: none;
        }
        #root { width: 100%; height: 100%; position: fixed; top: 0; left: 0; }
        @keyframes scan { 0% { transform: translateY(0); } 100% { transform: translateY(100%); } }
        
        /* Landscape orientation warning - ONLY FOR MOBILE */
        .landscape-warning {
            display: none;
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 9999;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
            padding: 20px;
        }
        
        @media (orientation: landscape) and (max-width: 1024px) {
            .landscape-warning {
                display: flex;
            }
            #root > div {
                display: none;
            }
        }
        
        /* Desktop - allow any orientation */
        @media (min-width: 1025px) {
            .landscape-warning {
                display: none !important;
            }
        }
        
        .rotate-icon {
            font-size: 80px;
            animation: rotate 2s ease-in-out infinite;
        }
        
        @keyframes rotate {
            0%, 100% { transform: rotate(90deg); }
            50% { transform: rotate(0deg); }
        }
    </style>
</head>
<body>
    <div class="landscape-warning">
        <div class="rotate-icon">ğŸ“±</div>
        <h1 style="font-size: 24px; margin: 20px 0;">Please Rotate Your Device</h1>
        <p style="font-size: 16px; color: #aaa;">This game must be played in portrait mode (vertically)</p>
        <div style="margin-top: 20px; font-size: 40px;">â†»</div>
    </div>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const FiveNightsAtEmojis = () => {
          const [gameState, setGameState] = useState('menu');
          const [night, setNight] = useState(1);
          const [time, setTime] = useState(0);
          const [power, setPower] = useState(100);
          const [leftDoorClosed, setLeftDoorClosed] = useState(false);
          const [rightDoorClosed, setRightDoorClosed] = useState(false);
          const [leftLightOn, setLeftLightOn] = useState(false);
          const [rightLightOn, setRightLightOn] = useState(false);
          const [cameraUp, setCameraUp] = useState(false);
          const [selectedCamera, setSelectedCamera] = useState('CAM1A');
          const [gameOver, setGameOver] = useState(false);
          const [winner, setWinner] = useState(false);
          const [jumpscare, setJumpscare] = useState(null);
          const [animatronics, setAnimatronics] = useState({
            smiley: { location: 'CAM1A', moveTimer: 0, aggression: 1, doorTimer: 0 },
            laughing: { location: 'CAM1A', moveTimer: 0, aggression: 2, doorTimer: 0 },
            cool: { location: 'CAM1B', moveTimer: 0, aggression: 1, doorTimer: 0 },
            devil: { location: 'CAM7', moveTimer: 0, aggression: 3, doorTimer: 0 }
          });
          const gameLoopRef = useRef(null);
          const powerDrainRef = useRef(null);
          const cameras = {
            'CAM1A': { name: 'Show Stage', emoji: 'ğŸ­' }, 'CAM1B': { name: 'Dining Area', emoji: 'ğŸ•' },
            'CAM1C': { name: 'Pirate Cove', emoji: 'ğŸ´â€â˜ ï¸' }, 'CAM2A': { name: 'West Hall', emoji: 'ğŸšª' },
            'CAM2B': { name: 'West Corner', emoji: 'ğŸ”¦' }, 'CAM3': { name: 'Supply', emoji: 'ğŸ“¦' },
            'CAM4A': { name: 'East Hall', emoji: 'ğŸšª' }, 'CAM4B': { name: 'East Corner', emoji: 'ğŸ”¦' },
            'CAM5': { name: 'Backstage', emoji: 'ğŸ¬' }, 'CAM6': { name: 'Kitchen', emoji: 'ğŸ³' },
            'CAM7': { name: 'Restrooms', emoji: 'ğŸš»' }
          };
          const Battery = ({ size = 24 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="2" y="7" width="18" height="10" rx="2"/><path d="M22 11v2"/></svg>;
          const Zap = ({ size = 24 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>;
          const Camera = ({ size = 20 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg>;
          const AlertTriangle = ({ size = 16 }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>;
          useEffect(() => {
            if (gameState === 'playing') {
              gameLoopRef.current = setInterval(() => {
                setTime(prev => { if (prev >= 360) { clearInterval(gameLoopRef.current); setWinner(true); setGameState('end'); return 360; } return prev + 1; });
              }, 1000);
              powerDrainRef.current = setInterval(() => {
                setPower(prev => {
                  let drain = 1;
                  if (leftDoorClosed) drain += 1; if (rightDoorClosed) drain += 1;
                  if (leftLightOn) drain += 0.5; if (rightLightOn) drain += 0.5; if (cameraUp) drain += 0.5;
                  const newPower = prev - (drain * 0.1);
                  if (newPower <= 0) { clearInterval(powerDrainRef.current); clearInterval(gameLoopRef.current); triggerJumpscare('power'); return 0; }
                  return newPower;
                });
              }, 1000);
              return () => { clearInterval(gameLoopRef.current); clearInterval(powerDrainRef.current); };
            }
          }, [gameState, leftDoorClosed, rightDoorClosed, leftLightOn, rightLightOn, cameraUp]);
          useEffect(() => {
            if (gameState === 'playing') {
              const aiInterval = setInterval(() => {
                setAnimatronics(prev => {
                  const updated = { ...prev };
                  Object.keys(updated).forEach(key => {
                    const anim = updated[key]; anim.moveTimer++;
                    if ((anim.location === 'leftDoor' || anim.location === 'rightDoor') && ((anim.location === 'leftDoor' && !leftDoorClosed) || (anim.location === 'rightDoor' && !rightDoorClosed))) {
                      anim.doorTimer++; if (anim.doorTimer >= 10) { triggerJumpscare(key); }
                    } else { anim.doorTimer = 0; }
                    const moveChance = (anim.aggression * night) / 20;
                    if (Math.random() < moveChance && anim.moveTimer > 3) { anim.moveTimer = 0; moveAnimatronic(key, anim.location, updated); }
                  });
                  return updated;
                });
              }, 1000);
              return () => clearInterval(aiInterval);
            }
          }, [gameState, night, leftDoorClosed, rightDoorClosed]);
          const triggerJumpscare = (animName) => { setJumpscare(animName); setCameraUp(false); setTimeout(() => { setJumpscare(null); setGameOver(true); setGameState('end'); }, 800); };
          const moveAnimatronic = (name, currentLoc, animState) => {
            const paths = { smiley: ['CAM1A', 'CAM1B', 'CAM5', 'CAM4A', 'CAM4B', 'rightDoor'], laughing: ['CAM1A', 'CAM1B', 'CAM7', 'CAM2A', 'CAM2B', 'leftDoor'], cool: ['CAM1B', 'CAM3', 'CAM2A', 'CAM2B', 'leftDoor'], devil: ['CAM7', 'CAM6', 'CAM4A', 'CAM4B', 'rightDoor'] };
            const path = paths[name]; const currentIndex = path.indexOf(currentLoc);
            if (currentIndex < path.length - 1) {
              const nextLoc = path[currentIndex + 1];
              if (nextLoc === 'leftDoor' && leftDoorClosed) { animState[name].location = path[Math.max(0, currentIndex - 1)]; }
              else if (nextLoc === 'rightDoor' && rightDoorClosed) { animState[name].location = path[Math.max(0, currentIndex - 1)]; }
              else if (nextLoc === 'leftDoor' || nextLoc === 'rightDoor') { animState[name].location = nextLoc; animState[name].doorTimer = 0; }
              else { animState[name].location = nextLoc; }
            }
          };
          const startGame = () => { setGameState('playing'); setTime(0); setPower(100); setLeftDoorClosed(false); setRightDoorClosed(false); setLeftLightOn(false); setRightLightOn(false); setCameraUp(false); setGameOver(false); setWinner(false); setJumpscare(null); setAnimatronics({ smiley: { location: 'CAM1A', moveTimer: 0, aggression: 1, doorTimer: 0 }, laughing: { location: 'CAM1A', moveTimer: 0, aggression: 2, doorTimer: 0 }, cool: { location: 'CAM1B', moveTimer: 0, aggression: 1, doorTimer: 0 }, devil: { location: 'CAM7', moveTimer: 0, aggression: 3, doorTimer: 0 } }); };
          const getTimeString = () => { const hour = Math.floor(time / 60); return `${hour + 12} AM`; };
          const renderJumpscare = () => { const getScareEmoji = () => { if (jumpscare === 'power') return 'ğŸ‘¹'; const emojis = { smiley: 'ğŸ˜±', laughing: 'ğŸ¤¬', cool: 'ğŸ˜µ', devil: 'â˜ ï¸' }; return emojis[jumpscare] || 'ğŸ’€'; }; return (<div className="fixed inset-0 z-50 bg-black flex items-center justify-center"><div className="text-[20rem] animate-[bounce_0.3s_ease-in-out_infinite]">{getScareEmoji()}</div><div className="absolute inset-0 bg-red-600 opacity-30 animate-[pulse_0.2s_ease-in-out_infinite]"></div></div>); };
          const renderOffice = () => (<div className="relative w-full h-full bg-gradient-to-b from-gray-800 to-gray-900"><div className="absolute inset-0 flex items-center justify-center"><div className="text-center"><div className="text-6xl mb-4">ğŸ–¥ï¸</div><div className="text-4xl">ğŸ“‹</div></div><div className="absolute left-4 top-1/2 transform -translate-y-1/2"><button onClick={() => { setLeftDoorClosed(!leftDoorClosed); setLeftLightOn(false); }} className={`text-6xl mb-4 transition-transform hover:scale-110 ${leftDoorClosed ? 'opacity-50' : ''}`}>ğŸšª</button><button onClick={() => { setLeftLightOn(!leftLightOn); if (leftDoorClosed) setLeftLightOn(false); }} className={`text-4xl ${leftLightOn ? 'opacity-100' : 'opacity-40'}`}>ğŸ’¡</button>{leftLightOn && !leftDoorClosed && (animatronics.laughing.location === 'leftDoor' || animatronics.cool.location === 'leftDoor') && (<div className="text-6xl animate-pulse">{animatronics.laughing.location === 'leftDoor' ? 'ğŸ˜‚' : 'ğŸ˜'}</div>)}</div><div className="absolute right-4 top-1/2 transform -translate-y-1/2"><button onClick={() => { setRightDoorClosed(!rightDoorClosed); setRightLightOn(false); }} className={`text-6xl mb-4 transition-transform hover:scale-110 ${rightDoorClosed ? 'opacity-50' : ''}`}>ğŸšª</button><button onClick={() => { setRightLightOn(!rightLightOn); if (rightDoorClosed) setRightLightOn(false); }} className={`text-4xl ${rightLightOn ? 'opacity-100' : 'opacity-40'}`}>ğŸ’¡</button>{rightLightOn && !rightDoorClosed && (animatronics.smiley.location === 'rightDoor' || animatronics.devil.location === 'rightDoor') && (<div className="text-6xl animate-pulse">{animatronics.smiley.location === 'rightDoor' ? 'ğŸ˜Š' : 'ğŸ˜ˆ'}</div>)}</div></div><div className="absolute bottom-4 left-1/2 transform -translate-x-1/2"><button onClick={() => setCameraUp(!cameraUp)} className="bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors"><Camera size={20} />Cameras</button></div></div>);
          const renderCamera = () => { const animsInView = Object.entries(animatronics).filter(([_, anim]) => anim.location === selectedCamera).map(([name]) => name); const getEmoji = (name) => { const emojis = { smiley: 'ğŸ˜Š', laughing: 'ğŸ˜‚', cool: 'ğŸ˜', devil: 'ğŸ˜ˆ' }; return emojis[name]; }; return (<div className="relative w-full h-full bg-black"><div className="absolute top-16 left-0 right-0 bottom-48 bg-gray-900 mx-2 rounded-lg border-2 border-green-600 overflow-hidden" onClick={() => setCameraUp(false)} style={{cursor: 'pointer'}}><div className="absolute inset-0 bg-green-900 opacity-10"></div><div className="absolute inset-0" style={{ backgroundImage: 'repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,255,0,0.03) 2px, rgba(0,255,0,0.03) 4px)', animation: 'scan 4s linear infinite' }}></div><div className="relative flex items-center justify-center h-full"><div className="text-center"><div className="text-7xl mb-3 opacity-70">{cameras[selectedCamera].emoji}</div><div className="text-xl text-green-400 font-mono mb-4">{cameras[selectedCamera].name}</div>{animsInView.length > 0 ? (<div className="flex flex-col gap-3 items-center">{animsInView.map(name => (<div key={name} className="relative"><div className="text-6xl animate-pulse filter drop-shadow-[0_0_10px_rgba(255,0,0,0.5)]">{getEmoji(name)}</div><div className="text-red-500 text-sm font-mono mt-1 uppercase animate-pulse">{name}</div></div>))}<div className="text-red-400 text-xs font-mono animate-pulse mt-2">âš ï¸ THREAT DETECTED âš ï¸</div></div>) : (<div className="text-green-500 text-sm font-mono">No activity detected</div>)}</div></div><div className="absolute top-2 right-2 text-green-400 font-mono text-lg bg-black bg-opacity-50 px-2 py-1 rounded">{selectedCamera}</div><div className="absolute bottom-2 left-2 text-green-400 font-mono text-xs">REC â—</div><div className="absolute top-2 left-2 text-green-400 font-mono text-xs bg-black bg-opacity-70 px-2 py-1 rounded animate-pulse">ğŸ‘† Click to close</div></div><div className="absolute bottom-2 left-0 right-0 bg-gray-900 bg-opacity-95 p-2" onClick={(e) => e.stopPropagation()}><div className="mb-2 bg-gray-800 rounded p-2"><div className="grid grid-cols-5 gap-1 text-xs relative"><div className="col-span-2 row-span-2 border border-green-600 rounded p-1 text-center relative"><div className="text-green-400 font-mono">CAM1A</div><div className="text-[8px] text-gray-400">Stage</div>{(animatronics.smiley.location === 'CAM1A' || animatronics.laughing.location === 'CAM1A') && (<div className="absolute top-0 right-0 text-red-500 text-xs">â—</div>)}</div><div className="border border-green-600 rounded p-1 text-center relative"><div className="text-green-400 font-mono text-[10px]">1B</div>{(animatronics.cool.location === 'CAM1B' || animatronics.laughing.location === 'CAM1B' || animatronics.smiley.location === 'CAM1B') && (<div className="absolute top-0 right-0 text-red-500 text-xs">â—</div>)}</div><div className="border border-green-600 rounded p-1 text-center relative"><div className="text-green-400 font-mono text-[10px]">5</div>{animatronics.smiley.location === 'CAM5' && (<div className="absolute top-0 right-0 text-red-500 text-xs">â—</div>)}</div><div className="border border-green-600 rounded p-1 text-center relative"><div className="text-green-400 font-mono text-[10px]">1C</div></div><div className="border border-green-600 rounded p-1 text-center relative"><div className="text-green-400 font-mono text-[10px]">3</div>{animatronics.cool.location === 'CAM3' && (<div className="absolute top-0 right-0 text-red-500 text-xs">â—</div>)}</div><div className="border border-green-600 rounded p-1 text-center relative"><div className="text-green-400 font-mono text-[10px]">2A</div>{(animatronics.laughing.location === 'CAM2A' || animatronics.cool.location === 'CAM2A') && (<div className="absolute top-0 right-0 text-red-500 text-xs">â—</div>)}</div><div className="border border-green-600 rounded p-1 text-center relative"><div className="text-green-400 font-mono text-[10px]">4A</div>{(animatronics.smiley.location === 'CAM4A' || animatronics.devil.location === 'CAM4A') && (<div className="absolute top-0 right-0 text-red-500 text-xs">â—</div>)}</div><div className="border border-green-600 rounded p-1 text-center relative"><div className="text-green-400 font-mono text-[10px]">6</div>{animatronics.devil.location === 'CAM6' && (<div className="absolute top-0 right-0 text-red-500 text-xs">â—</div>)}</div><div className="border border-green-600 rounded p-1 text-center relative"><div className="text-green-400 font-mono text-[10px]">2B</div>{(animatronics.laughing.location === 'CAM2B' || animatronics.cool.location === 'CAM2B') && (<div className="absolute top-0 right-0 text-red-500 text-xs">â—</div>)}</div><div className="border border-yellow-500 bg-yellow-900 bg-opacity-30 rounded p-1 text-center relative"><div className="text-yellow-400 font-mono text-[10px] font-bold">YOU</div><div className="text-[8px] text-yellow-300">Office</div>{(animatronics.smiley.location === 'rightDoor' || animatronics.devil.location === 'rightDoor') && (<div className="absolute top-0 right-0 text-red-500 text-xs animate-pulse">â—</div>)}{(animatronics.laughing.location === 'leftDoor' || animatronics.cool.location === 'leftDoor') && (<div className="absolute top-0 left-0 text-red-500 text-xs animate-pulse">â—</div>)}</div><div className="border border-green-600 rounded p-1 text-center relative"><div className="text-green-400 font-mono text-[10px]">4B</div>{(animatronics.smiley.location === 'CAM4B' || animatronics.devil.location === 'CAM4B') && (<div className="absolute top-0 right-0 text-red-500 text-xs">â—</div>)}</div><div className="col-start-3 border border-green-600 rounded p-1 text-center relative"><div className="text-green-400 font-mono text-[10px]">7</div>{(animatronics.devil.location === 'CAM7' || animatronics.laughing.location === 'CAM7') && (<div className="absolute top-0 right-0 text-red-500 text-xs">â—</div>)}</div></div><div className="text-center text-green-400 text-[8px] font-mono mt-1">Red dots = Animatronic locations</div></div><div className="grid grid-cols-6 gap-1 mb-2">{Object.entries(cameras).map(([id, cam]) => (<button key={id} onClick={() => setSelectedCamera(id)} className={`px-2 py-1 rounded text-xs font-mono transition-colors ${selectedCamera === id ? 'bg-green-600 text-white' : 'bg-gray-700 text-green-400 hover:bg-gray-600'}`}>{id}</button>))}</div><button onClick={() => setCameraUp(false)} className="w-full bg-red-700 hover:bg-red-600 text-white py-2 rounded text-sm transition-colors font-bold">â¬‡ CLOSE CAMERAS â¬‡</button></div></div>); };
          if (gameState === 'menu') { return (<div className="w-screen h-screen fixed inset-0 bg-gradient-to-b from-purple-900 via-gray-900 to-black flex items-center justify-center overflow-hidden"><div className="text-center px-4"><div className="text-6xl mb-4">ğŸ˜ŠğŸ˜‚ğŸ˜ğŸ˜ˆ</div><h1 className="text-4xl md:text-5xl font-bold text-white mb-2">Five Nights at Emojis</h1><p className="text-sm text-gray-500 mb-8">HighGames Entertainment Â© 2026</p><button onClick={startGame} className="bg-red-600 hover:bg-red-700 text-white px-8 py-4 rounded-lg text-xl font-bold transition-colors">Start Night {night}</button><div className="text-gray-400 mt-6"><p className="text-sm mb-2">Controls:</p><p className="text-xs max-w-md mx-auto">Monitor cameras, close doors when enemies appear. Watch your power!</p></div></div></div>); }
          if (gameState === 'end') { return (<div className="w-screen h-screen fixed inset-0 bg-gradient-to-b from-gray-900 to-black flex items-center justify-center px-4 overflow-hidden"><div className="text-center"><div className="text-7xl mb-6">{winner ? 'ğŸ‰' : 'ğŸ’€'}</div><h1 className="text-4xl font-bold text-white mb-4">{winner ? 'Night Complete!' : 'Game Over'}</h1><p className="text-xl text-gray-400 mb-6">{winner ? `Night ${night} survived!` : 'Jumpscared!'}</p><div className="space-y-3"><button onClick={() => { if (winner && night < 5) setNight(night + 1); setGameState('menu'); }} className="block w-full bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg text-lg font-bold transition-colors">{winner && night < 5 ? 'Next Night' : 'Menu'}</button><button onClick={startGame} className="block w-full bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg text-lg font-bold transition-colors">Retry</button></div></div></div>); }
          return (<div className="w-screen h-screen fixed inset-0 bg-black overflow-hidden">{jumpscare && renderJumpscare()}<div className="absolute top-0 left-0 right-0 bg-gray-900 bg-opacity-90 p-3 flex justify-between items-center z-10"><div className="flex items-center gap-3"><div className="flex items-center gap-1 text-yellow-400"><Battery size={20} /><span className="text-lg font-bold">{Math.max(0, Math.floor(power))}%</span></div><div className="text-white text-lg font-mono">N{night}</div></div><div className="text-white text-xl font-mono">{getTimeString()}</div>{(leftDoorClosed || rightDoorClosed || leftLightOn || rightLightOn || cameraUp) && (<Zap className="text-yellow-400 animate-pulse" size={20} />)}</div><div className="w-full h-full pt-14">{cameraUp ? renderCamera() : renderOffice()}</div>{power <= 20 && (<div className="absolute top-16 left-1/2 transform -translate-x-1/2 bg-red-600 text-white px-3 py-2 rounded-lg flex items-center gap-2 animate-pulse text-sm"><AlertTriangle size={16} />Low Power!</div>)}</div>);
        };
        ReactDOM.render(<FiveNightsAtEmojis />, document.getElementById('root'));
    </script>
</body>
</html>
